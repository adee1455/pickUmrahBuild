(()=>{var e={};e.id=613,e.ids=[613],e.modules={2849:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=2849,e.exports=r},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},1808:e=>{"use strict";e.exports=require("net")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},9512:e=>{"use strict";e.exports=require("timers")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8435:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{GET:()=>c});var o=t(9303),a=t(8716),i=t(670),u=t(7070),n=t(6385);let c=async e=>{let{searchParams:r}=new URL(e.url),t=r.get("location")||"all",s=r.get("month")||"default",o=r.get("sort")||"default",a=r.get("search")||"";console.log("Location parameter:",t),console.log("Month parameter:",s),console.log("Sort parameter:",o),console.log("Search key:",a);try{let e="SELECT * FROM card WHERE 1";"all"!==t&&(e+=" AND departlocation = ?"),"default"!==s&&(e+=" AND monthyear = ?"),""!==a.trim()&&(e+=" AND tourName LIKE ?"),"lowToHigh"===o?e+=" ORDER BY price ASC":"highToLow"===o&&(e+=" ORDER BY price DESC");let r=[];if("all"!==t&&r.push(t),"default"!==s&&r.push(s),""!==a.trim()){let e=`%${a}%`;r.push(e)}let i=await (0,n.query)({query:e,values:r});return console.log("Database results:",i),u.NextResponse.json(i)}catch(e){return console.error("Error in GET request:",e),u.NextResponse.json({message:e.message},{status:500})}},p=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/cards/route",pathname:"/api/cards",filename:"route",bundlePath:"app/api/cards/route"},resolvedPagePath:"/Users/adee/Web-Development/build/src/app/api/cards/route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m}=p,x="/api/cards/route";function g(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},6385:(e,r,t)=>{"use strict";let s=t(9518).createPool({host:process.env.MYSQL_HOST,user:process.env.MYSQL_USER,password:process.env.MYSQL_PASSWORD,database:process.env.MYSQL_DATABASE,waitForConnections:!0,connectionLimit:10,queueLimit:0}),o=async({query:e,values:r})=>{let t=await s.getConnection();try{let[s]=await t.execute(e,r);return s}finally{t.release()}};e.exports={query:o}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,641],()=>t(8435));module.exports=s})();